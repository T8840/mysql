(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{426:function(s,t,a){"use strict";a.r(t);var n=a(2),r=Object(n.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h2",{attrs:{id:"约束定义"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#约束定义"}},[s._v("#")]),s._v(" 约束定义")]),s._v(" "),t("h2",{attrs:{id:"约束分类"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#约束分类"}},[s._v("#")]),s._v(" 约束分类")]),s._v(" "),t("ul",[t("li",[s._v("默认约束")]),s._v(" "),t("li",[s._v("主键约束"),t("br"),s._v("\nMySQL中数据表的主键，是表中的一个字段或者几个字段的组合。主键可以确保数据的唯一性，而且能够减少数据错误，并且提高查询\n的速度。"),t("br"),s._v("\nMySQL主键有三个特征：")])]),s._v(" "),t("ol",[t("li",[s._v("必须唯一，不能重复；")]),s._v(" "),t("li",[s._v("不能是空；")]),s._v(" "),t("li",[s._v("必须可以唯一标识数据表中的记录。")])]),s._v(" "),t("ul",[t("li",[t("p",[s._v("外键约束")])]),s._v(" "),t("li",[t("p",[s._v("非空约束"),t("br"),s._v("\n非空约束表示字段值不能为空，如果创建表的时候，指明某个字段非空，那么添加数据的时候，这个字段必须有值，否则系统就会提示错误。")])]),s._v(" "),t("li",[t("p",[s._v("唯一性约束"),t("br"),s._v("\n唯一性约束表示这个字段的值不能重复，否则系统会提示错误。跟主键约束相比，唯一性约束要更加弱一些。在一个表中，我们可以指定多个字段满足唯一性约束，而主键约束则只能有一个，这也是MySQL系统决定的。另外，满足主键约束的字段，自动满足非空约束，但是满足唯一性约束的字段，则可以是空值")])]),s._v(" "),t("li",[t("p",[s._v("自增约束"),t("br"),s._v("\n自增约束可以让MySQL自动给字段赋值，且保证不会重复。")])])]),s._v(" "),t("h2",{attrs:{id:"多表查询依赖从表创建外键"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#多表查询依赖从表创建外键"}},[s._v("#")]),s._v(" 多表查询依赖从表创建外键")]),s._v(" "),t("p",[s._v("外键就是从表中用来引用主表中数据的那个公共字段。")]),s._v(" "),t("p",[s._v("假设我们有2个表，分别是表A和表B，它们通过一个公共字段“id”发生关联关系，我们把这个关联关系叫做R。如果“id”在表A中是主键，那么，表A就是这个关系R中的主表。\n相应的，表B就是这个关系中的从表，表B中的“id”，就是表B用来引用表A中数据的，叫外键。")]),s._v(" "),t("p",[s._v("在MySQL中，外键是通过外键约束来定义的。外键约束就是约束的一种，它必须在从表中定义，包括指明哪个是外键字段，以及外键字段所引用的主表中的主键字段是什么。MySQL系统会根据外键约束的定义，监控对主表中数据的删除操作。如果发现要删除的主表记录，正在被从表中某条记录的外键字段所引用，MySQL就会提示错误，从而确保了关联数据不会缺失。")]),s._v(" "),t("p",[s._v("外键约束可以在创建表的时候定义，也可以通过修改表来定义。")]),s._v(" "),t("p",[s._v("外键约束定义的语法结构：")]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CONSTRAINT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("外键约束名称"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FOREIGN")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("KEY")]),s._v(" 字段名\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("REFERENCES")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("主表名"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" 字段名\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 在创建表的时候定义外键约束")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CREATE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("TABLE")]),s._v(" 从表名\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n 字段名 类型"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 定义外键约束，指出外键字段和参照的主表字段")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CONSTRAINT")]),s._v(" 外键约束名\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FOREIGN")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("KEY")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("字段名"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("REFERENCES")]),s._v(" 主表名 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("字段名"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 修改表来定义外键约束")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ALTER")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("TABLE")]),s._v(" 从表名 "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ADD")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CONSTRAINT")]),s._v(" 约束名 "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FOREIGN")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("KEY")]),s._v(" 字段名 "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("REFERENCES")]),s._v(" 主表名 （字段名）"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),t("p",[s._v("外键约束，可以帮助我们确定从表中的外键字段与主表中的主键字段之间的引用关系，还可以确保从表中数据所引用的主表数据不会被删除，从而保证了2个表中数据的一致性。")])])}),[],!1,null,null,null);t.default=r.exports}}]);